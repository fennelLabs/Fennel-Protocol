<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A Noise protocol over DH keys of type `C`. The choice of `C` determines the protocol parameters for each handshake pattern."><meta name="keywords" content="rust, rustlang, rust-lang, Protocol"><title>Protocol in libp2p::noise - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../../dark.css" disabled><link rel="stylesheet" type="text/css" href="../../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../../storage.js"></script><script src="../../crates.js"></script><script defer src="../../main.js"></script>
    <noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="shortcut icon" href="https://libp2p.io/img/favicon.png"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../libp2p/index.html"><div class="logo-container"><img src="https://libp2p.io/img/logo_small.png" alt="logo"></div>
        </a><h2 class="location"></h2>
    </nav>
    <nav class="sidebar"><a class="sidebar-logo" href="../../libp2p/index.html"><div class="logo-container">
                    <img src="https://libp2p.io/img/logo_small.png" alt="logo"></div>
        </a><h2 class="location"><a href="#">Protocol</a></h2><div class="sidebar-elems"><div class="block items"><h3 class="sidebar-title"><a href="#required-methods">Required Methods</a></h3><div class="sidebar-links"><a href="#tymethod.params_ik">params_ik</a><a href="#tymethod.params_ix">params_ix</a><a href="#tymethod.params_xx">params_xx</a><a href="#tymethod.public_from_bytes">public_from_bytes</a></div><h3 class="sidebar-title"><a href="#provided-methods">Provided Methods</a></h3><div class="sidebar-links"><a href="#method.linked">linked</a><a href="#method.sign">sign</a><a href="#method.verify">verify</a></div><h3 class="sidebar-title"><a href="#implementors">Implementors</a></h3></div><h2 class="location">In <a href="../index.html">libp2p</a>::<wbr><a href="index.html">noise</a></h2><div id="sidebar-vars" data-name="Protocol" data-ty="trait" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../../libp2p/index.html">
                        <img src="https://libp2p.io/img/logo_small.png" alt="logo"></a><nav class="sub"><div class="theme-picker hidden"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../../brush.svg"></button><div id="theme-choices" role="menu"></div></div><form class="search-form"><div class="search-container"><div>
                                <input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../../wheel.svg"></a></div></form></nav></div><section id="main-content" class="content"><div class="main-heading">
    <h1 class="fqn"><span class="in-band">Trait <a href="../index.html">libp2p</a>::<wbr><a href="index.html">noise</a>::<wbr><a class="trait" href="#">Protocol</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../../src/libp2p_noise/protocol.rs.html#57-108" title="goto source code">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><div class="docblock item-decl"><pre class="rust trait"><code>pub trait Protocol&lt;C&gt; {
    fn <a href="#tymethod.params_ik" class="fnname">params_ik</a>() -&gt; <a class="struct" href="struct.ProtocolParams.html" title="struct libp2p::noise::ProtocolParams">ProtocolParams</a>;
<div class="item-spacer"></div>    fn <a href="#tymethod.params_ix" class="fnname">params_ix</a>() -&gt; <a class="struct" href="struct.ProtocolParams.html" title="struct libp2p::noise::ProtocolParams">ProtocolParams</a>;
<div class="item-spacer"></div>    fn <a href="#tymethod.params_xx" class="fnname">params_xx</a>() -&gt; <a class="struct" href="struct.ProtocolParams.html" title="struct libp2p::noise::ProtocolParams">ProtocolParams</a>;
<div class="item-spacer"></div>    fn <a href="#tymethod.public_from_bytes" class="fnname">public_from_bytes</a>(s: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">&amp;[</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="struct.PublicKey.html" title="struct libp2p::noise::PublicKey">PublicKey</a>&lt;C&gt;, <a class="enum" href="enum.NoiseError.html" title="enum libp2p::noise::NoiseError">NoiseError</a>&gt;;

    fn <a href="#method.linked" class="fnname">linked</a>(id_pk: &amp;<a class="enum" href="../identity/enum.PublicKey.html" title="enum libp2p::identity::PublicKey">PublicKey</a>, dh_pk: &amp;<a class="struct" href="struct.PublicKey.html" title="struct libp2p::noise::PublicKey">PublicKey</a>&lt;C&gt;) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a> { ... }
<div class="item-spacer"></div>    fn <a href="#method.verify" class="fnname">verify</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;id_pk: &amp;<a class="enum" href="../identity/enum.PublicKey.html" title="enum libp2p::identity::PublicKey">PublicKey</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dh_pk: &amp;<a class="struct" href="struct.PublicKey.html" title="struct libp2p::noise::PublicKey">PublicKey</a>&lt;C&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sig: &amp;<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a><br>&nbsp;&nbsp;&nbsp; <span class="where">where<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">[</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>&gt;</span>,
    { ... }
<div class="item-spacer"></div>    fn <a href="#method.sign" class="fnname">sign</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;id_keys: &amp;<a class="enum" href="../identity/enum.Keypair.html" title="enum libp2p::identity::Keypair">Keypair</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dh_pk: &amp;<a class="struct" href="struct.PublicKey.html" title="struct libp2p::noise::PublicKey">PublicKey</a>&lt;C&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;, <a class="enum" href="enum.NoiseError.html" title="enum libp2p::noise::NoiseError">NoiseError</a>&gt;<br>&nbsp;&nbsp;&nbsp; <span class="where">where<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">[</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>&gt;</span>,
    { ... }
}</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A Noise protocol over DH keys of type <code>C</code>. The choice of <code>C</code> determines the
protocol parameters for each handshake pattern.</p>
</div></details><h2 id="required-methods" class="small-section-header">Required methods<a href="#required-methods" class="anchor"></a></h2><div class="methods"><details class="rustdoc-toggle" open><summary><div id="tymethod.params_ik" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/libp2p_noise/protocol.rs.html#59" title="goto source code">source</a></div><h4 class="code-header">fn <a href="#tymethod.params_ik" class="fnname">params_ik</a>() -&gt; <a class="struct" href="struct.ProtocolParams.html" title="struct libp2p::noise::ProtocolParams">ProtocolParams</a></h4></div></summary><div class="docblock"><p>The protocol parameters for the IK handshake pattern.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.params_ix" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/libp2p_noise/protocol.rs.html#61" title="goto source code">source</a></div><h4 class="code-header">fn <a href="#tymethod.params_ix" class="fnname">params_ix</a>() -&gt; <a class="struct" href="struct.ProtocolParams.html" title="struct libp2p::noise::ProtocolParams">ProtocolParams</a></h4></div></summary><div class="docblock"><p>The protocol parameters for the IX handshake pattern.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.params_xx" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/libp2p_noise/protocol.rs.html#63" title="goto source code">source</a></div><h4 class="code-header">fn <a href="#tymethod.params_xx" class="fnname">params_xx</a>() -&gt; <a class="struct" href="struct.ProtocolParams.html" title="struct libp2p::noise::ProtocolParams">ProtocolParams</a></h4></div></summary><div class="docblock"><p>The protocol parameters for the XX handshake pattern.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.public_from_bytes" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/libp2p_noise/protocol.rs.html#66" title="goto source code">source</a></div><h4 class="code-header">fn <a href="#tymethod.public_from_bytes" class="fnname">public_from_bytes</a>(s: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">&amp;[</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="struct.PublicKey.html" title="struct libp2p::noise::PublicKey">PublicKey</a>&lt;C&gt;, <a class="enum" href="enum.NoiseError.html" title="enum libp2p::noise::NoiseError">NoiseError</a>&gt;</h4></div></summary><div class="docblock"><p>Construct a DH public key from a byte slice.</p>
</div></details></div><h2 id="provided-methods" class="small-section-header">Provided methods<a href="#provided-methods" class="anchor"></a></h2><div class="methods"><details class="rustdoc-toggle" open><summary><div id="method.linked" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/libp2p_noise/protocol.rs.html#76" title="goto source code">source</a></div><h4 class="code-header">fn <a href="#method.linked" class="fnname">linked</a>(id_pk: &amp;<a class="enum" href="../identity/enum.PublicKey.html" title="enum libp2p::identity::PublicKey">PublicKey</a>, dh_pk: &amp;<a class="struct" href="struct.PublicKey.html" title="struct libp2p::noise::PublicKey">PublicKey</a>&lt;C&gt;) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></h4></div></summary><div class="item-info"><div class="stab deprecated"><span class="emoji">👎</span> Deprecated</div></div><div class="docblock"><p>Determines whether the authenticity of the given DH static public key
and public identity key is linked, i.e. that proof of ownership of a
secret key for the static DH public key implies that the key is
authentic w.r.t. the given public identity key.</p>
<p>The trivial case is when the keys are byte for byte identical.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="method.verify" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/libp2p_noise/protocol.rs.html#93-95" title="goto source code">source</a></div><h4 class="code-header">fn <a href="#method.verify" class="fnname">verify</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;id_pk: &amp;<a class="enum" href="../identity/enum.PublicKey.html" title="enum libp2p::identity::PublicKey">PublicKey</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;dh_pk: &amp;<a class="struct" href="struct.PublicKey.html" title="struct libp2p::noise::PublicKey">PublicKey</a>&lt;C&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;sig: &amp;<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;&gt;<br>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a> <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;C: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">[</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>&gt;,&nbsp;</span></h4></div></summary><div class="docblock"><p>Verifies that a given static DH public key is authentic w.r.t. a
given public identity key in the context of an optional signature.</p>
<p>The given static DH public key is assumed to already be authentic
in the sense that possession of a corresponding secret key has been
established, as is the case at the end of a Noise handshake involving
static DH keys.</p>
<p>If the public keys are <a href="trait.Protocol.html#method.linked"><code>linked</code></a>, verification succeeds
without a signature, otherwise a signature over the static DH public key
must be given and is verified with the public identity key, establishing
the authenticity of the static DH public key w.r.t. the public identity key.</p>
</div></details><div id="method.sign" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/libp2p_noise/protocol.rs.html#102-104" title="goto source code">source</a></div><h4 class="code-header">fn <a href="#method.sign" class="fnname">sign</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;id_keys: &amp;<a class="enum" href="../identity/enum.Keypair.html" title="enum libp2p::identity::Keypair">Keypair</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;dh_pk: &amp;<a class="struct" href="struct.PublicKey.html" title="struct libp2p::noise::PublicKey">PublicKey</a>&lt;C&gt;<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;, <a class="enum" href="enum.NoiseError.html" title="enum libp2p::noise::NoiseError">NoiseError</a>&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;C: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">[</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>&gt;,&nbsp;</span></h4></div></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor"></a></h2><div class="item-list" id="implementors-list"><div id="impl-Protocol%3CX25519%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/libp2p_noise/protocol/x25519.rs.html#103-132" title="goto source code">source</a></div><a href="#impl-Protocol%3CX25519%3E" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="trait.Protocol.html" title="trait libp2p::noise::Protocol">Protocol</a>&lt;<a class="struct" href="struct.X25519.html" title="struct libp2p::noise::X25519">X25519</a>&gt; for <a class="struct" href="struct.X25519.html" title="struct libp2p::noise::X25519">X25519</a></h3></div><div class="docblock"><p>Legacy Noise protocol for X25519.</p>
<p><strong>Note</strong>: This <code>Protocol</code> provides no configuration that
is interoperable  with other libp2p implementations.
See <a href="struct.X25519Spec.html" title="crate::X25519Spec"><code>crate::X25519Spec</code></a> instead.</p>
</div><div id="impl-Protocol%3CX25519Spec%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/libp2p_noise/protocol/x25519_spec.rs.html#105-137" title="goto source code">source</a></div><a href="#impl-Protocol%3CX25519Spec%3E" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="trait.Protocol.html" title="trait libp2p::noise::Protocol">Protocol</a>&lt;<a class="struct" href="struct.X25519Spec.html" title="struct libp2p::noise::X25519Spec">X25519Spec</a>&gt; for <a class="struct" href="struct.X25519Spec.html" title="struct libp2p::noise::X25519Spec">X25519Spec</a></h3></div><div class="docblock"><p>Noise protocols for X25519 with libp2p-spec compliant signatures.</p>
<p><strong>Note</strong>: Only the XX handshake pattern is currently guaranteed to be
interoperable with other libp2p implementations.</p>
</div></div><script type="text/javascript" src="../../implementors/libp2p_noise/protocol/trait.Protocol.js" async></script></section><section id="search" class="content hidden"></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-current-crate="libp2p" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.60.0-nightly (17d29dcdc 2022-01-21)" ></div>
</body></html>